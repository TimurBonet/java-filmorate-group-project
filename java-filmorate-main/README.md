![Untitled (3)](https://github.com/KotelnikovAV/java-filmorate/assets/155972005/da01a556-96c6-49f6-9c0a-e78dd7869907)

# Описание ER-диаграммы к приложению filmorate.
## Структура базы данных к приложению filmorate.
База данных (далее БД) к приложению filmorate состоит из следующих таблиц: 
- films (таблица хранения фильмов);
- users (таблица хранения пользователей);
- films_like (таблица хранения лайков фильмов);
- adding_friends (таблица хранения друзей);
- mpa (таблица хранения рейтингов);
- genre (таблица хранения жанров фильмов);
- directors (таблица хранения режисеров);
- users_events (таблица хранения истории);
- reviews (таблица хранения отзывов);
- review_user_likes (таблица хранения лайков отзывов).

## Структура таблицы adding_friends.
Таблица состоит из 4 полей:
- outgoing_request_user_id (id пользователя, который отправил заявку на добавления в друзья);
- incoming_request_user_id (id пользователя, которому пришла заявка на добавления в друзья);
- confimation (true или false - информация о том, была ли принята заявка или нет, по умолчанию false).

### Логика работы таблицы adding_friends.
По умолчанию в поле confimation заполняется значение false. Если пользователь incoming_request_user_id принимает заяку, то в БД происходит попытка добавить новую запись, если находится запись с подходящей комбинацией (порядок неважен), то поле confimation меняется на true.

## Структура таблицы films.
Таблица состоит из 7 полей:
- id (id фильма);
- name (название фильма);
- description (описание фильма);
- releaseDate (дата релиза фильма);
- duration (продолжительность фильма в минутах);
- genre (список id жанров, который хранится в виде varchar);
- mpa_id (внешний ключ, который ссылается на таблицу mpa);
- directors (список id режисеров, который хранится в виде varchar).
